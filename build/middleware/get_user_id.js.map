{"version":3,"sources":["../../server/middleware/get_user_id.js"],"names":["getUserId","req","res","next","token","get","decoded","jwt","decode","console","log","user_id","err","status","json","message"],"mappings":";;;;;;AAAA;;;;;;AAEA,SAASA,SAAT,CAAmBC,GAAnB,EAAuBC,GAAvB,EAA2BC,IAA3B,EAAiC;AAC/B,MAAI;AACF,QAAMC,QAAQH,IAAII,GAAJ,CAAQ,eAAR,CAAd;AACA,QAAMC,UAAUC,uBAAIC,MAAJ,CAAWJ,KAAX,CAAhB;AACAK,YAAQC,GAAR,CAAY,kBAAZ,EAAgCJ,OAAhC;AACAL,QAAIU,OAAJ,GAAcL,QAAQK,OAAtB;AACAR;AACD,GAND,CAOA,OAAMS,GAAN,EAAW;AACT,WAAOV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAASH,GAAV,EAArB,CAAP;AACD;AACF;;kBAEcZ,S","file":"get_user_id.js","sourcesContent":["import jwt from 'jsonwebtoken'\n\nfunction getUserId(req,res,next) {\n  try {\n    const token = req.get('Authorization')\n    const decoded = jwt.decode(token)\n    console.log('Middleware UID: ', decoded)\n    req.user_id = decoded.user_id\n    next()\n  }\n  catch(err) {\n    return res.status(401).json({message: err})\n  }\n}\n\nexport default getUserId\n"]}